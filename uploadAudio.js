
document.querySelector('#audioUpload').addEventListener('input', (e) => {
    console.log(e.target.files);
    if (e.target.files.length) {
        let audio = new Audio(
            URL.createObjectURL(e.target.files[0])
        );
        console.log(e.target.files[0])

        /**Posting audio file to yandex cloud*/
        async function postData() {
            const formData = new FormData();
            formData.append("audio", e.target.files[0]);
            const result = await fetch('http://localhost:8080/api/audio?channel_count=1&encoding=LINEAR16_PCM&rate_hertz=48000', {
                method: 'POST',
                body: formData
            }).then(data => data.json()).then(res => console.log(res))
            console.log(result)
        }

        postData()

    }
});



/**Uploading text to postChatgpt API*/
//
// async function postChatgpt(url) {
//     const response = fetch(url, {
//         method: "post",
//         headers: {
//             'Accept': 'application/json',
//             'Content-Type': 'application/json'
//         },
//
//         //make sure to serialize your JSON body
//         body: JSON.stringify({
//             status: 'DONE',
//             text: `Конвертируй текст в таблицу в формате CSV где указаны деталь и номер, только результат без лишних слов. Ввод: шарарам боковая номер одиннадцать восемьсот три год две тысячи третий завод двенадцатый следующий рамба кв номер номер двадцать один триста пятьдесят два го две тысячи первый завод двенадцатый следующий рамба кв номер пятьдесят восемь семьсот двенадцать год две тысячи второй завод двенадцатый следующий рама боковая номер номер тринадцать восемьсот двадцать завод тридцать третий год две тысячи пятый следующий рама боковая номер десять семьдесят восемь тридцать один завод китай год двенадцатый брак следующий рамбоковая номер одиннадцать ноль пять тридцать одиннадцать ноль пять тридцать да китай двенадцатый год год две тысячи двенадцать завод китай следующий рама боковая номер номер тридцать один шестьдесят восемь год двенадцатый завод тридцать третий следующий рам боковой номер пятнадцать сто двадцать два зовут тридцать третий год две тысячи десятый следующий рама боковая номер двадцать два тридцать шестьдесят два завод шестьдесят семь тридцать три года две тысячи двенадцатый следующий рама боковая номер пятьдесят семь ноль семьдесят шесть год две тысячи третий завод двенадцатый брак следующий рам боковая номер двадцать два шестьдесят два пятьдесят два ошибка двадцать два шестьдесят два пятьдесят год двенадцатый завод китай следующий рам боковая номер сто шестьдесят один семьдесят восемь завод пятый год две тысячи первый следующая рама боковая номер двадцать четыре ноль восемь девяносто девять завод китай год две тысячи двенадцатый следующая рама боковая номер номер пятьдесят семь девятьсот один год девяносто четвертый завод пятый брак следующий рама боковой номер какой номер сейчас был ну ладно двадцать пять пятьдесят два одиннадцать завод китай год двенадцатый следующий рамб боковой номер семьдесят шесть девятьсот четырнадцать завод пятый год девяносто четвертый брак следующий рам боковой номер пятнадцать триста тридцать пять завод тридцать третий год две тысячи третий брак следующий рама боковой номер пятнадцать семьдесят девять восемьдесят девять завод двенадцатый год девяносто третий следующая рама боковая номер тридцать семь девяносто один год две тысячи двенадцатый завод двенадцатый следующий рама боковая номер номер шестьдесят пятьсот шестьдесят восемь год две тысячи пятый зовут двенадцать следующий рама боковая номер номер пятьдесят два ноль четыре восемьдесят четыре год две тысячи восьмой завод четырнадцать следующий рам боковая номер двадцать два сто восемьдесят семь завод завод четырнадцатый год девяносто пятый брак следующая рама боковой номер номер сорок пять шестьсот пятьдесят или пятьсот пятьдесят номер сорок пять шестьсот пятьдесят завод тридцать третий год двенадцатый следующий рамб боковая номер десять двадцать один двадцать два завод китай год двенадцатый следующий рама боковая номер двенадцать сто пятьдесят год две тысячи первый завод четырнадцатый брак следующий рамба кв номер номер тридцать три ошибка пятьдесят один шестьсот сорок три номер пятьдесят один шестьсот сорок три год две тысячи восьмой зовут тридцать третий следующий раунд боковая номер еще раз какой номер двадцать четыре десять ноль девять год двенадцатый завод шестьдесят семь тридцать три следующий рамба кв номер шестьдесят восемь восемьсот сорок восемь год девяносто четвертый завод пятый брак следующий ромбоковая номер семнадцать сто семнадцать год две тысячи одиннадцатый завод четырнадцатое следующая рама боковая номер двадцать один девяносто девять двадцать три завод китай за год две тысячи двенадцатый брак следующая и рама боковая номер семь шесть девятьсот тридцать шесть год двенадцатый завод четырнадцатый следующий рама боковая номер номер пятьдесят шесть шестьсот семьдесят шесть будет две тысячи два завод двенадцать брак следующая и рама боковая номер семьдесят два ноль пятьдесят три год две тысячи второй завод пятый следующий рама боковая номер тринадцать двадцать девять сорок три завод китай год две тысячи двенадцатый следующий раунд боковой номер а а еще раз номер скажите пожалуйста семьдесят семь двести пятьдесят один завод двенадцатый год две тысячи одиннадцатый следующий раунд боковая номер десять двадцать семь ноль шесть год две тысячи двенадцатый завод китай следующий раунд боковая номер двадцать пять пятьдесят девяносто шесть завод китай год две тысячи двенадцатый следующая рама боковой номер двадцать два сорок четыре ошибка двадцать два четыреста сорок один ошибка двадцать два четыреста сорок три завод тридцать три год две тысячи двенадцатый следующий рамка боковая номер номер восемнадцать ноль пятьдесят шесть номер шестьдесят пять четыреста шестьдесят пять год две тысячи одиннадцатый завод двенадцатый следующая рама боковая номер сорок пять пятьсот сорок четыре будет две тысячи второй завод тридцать третий следующий рама боковая номер двадцать пять сорок девять ноль ноль завод китай год две тысячи двенадцатый следующая рама боковая номер номер шестьдесят семь три семьдесят два год две тысячи пятый завод тридцать третий следующий рама боковой номер шестнадцать девятьсот пятьдесят один завод тридцать три год две тысячи шестой следующий рамба каба номер одиннадцать семьдесят семьдесят семь год одиннадцатый завод шестьдесят семь тридцать три следующая рама боковая номер двадцать пятьдесят девять один год четырнадцатый завод двенадцатый следующий рама боковая номер номер тридцать два четыреста восемьдесят один год две тысячи восьмой завод тридцать третий следующий рамб боковой номер девяносто восемьдесят семь номер девяносто восемь четырнадцать год две тысячи четырнадцатый завод двадцать два следующий раунд боковая номер тридцать семьдесят семь двадцать восемь год две тысячи четвертый а какой завод завод четырнадцатый следующая рама боковая номер двадцать два ноль сорок четыре ошибка двадцать два восемьсот сорок четыре завод четырнадцатый год две тысячи второй следующий рама боковая номер шестьдесят пять триста сорок девять так год две тысячи шестой завод и ресторан следующая рама боковая номер номер пятьдесят один триста тридцать пять год две тысячи третий завод двенадцатый еще раз чечетов сейчас даго две тысячи третий завод двенадцатый следующий рама какой там номер иди есть пятьдесят пятьсот девяносто восемь год две тысячи третий завод двенадцатый следующий рама боковая номер двадцать девять пятьсот завод тридцать три год две тысячи четвертый следующий рамба кв номер сорок шесть шестьсот девятнадцать год две тысячи седьмой завод тридцать третий сорок шесть сто девятнадцать брак да брак следующий рама боковая номер номер сорок один пятьсот девяносто восемь год две тысячи пятый завод тридцать третий следующий рама боковой номер двенадцать пятнадцать двадцать две тысячи восемь завод четырнадцатый следующий рамбоковой номер номер пятьдесят девять тридцать девять год две тысячи третий завод двенадцатый нам боковой номер номер сорок четыре три сорок три год две тысячи пятый дом тридцать три следующий рама боковой номер сорок восемь шестьсот пятьдесят семь го две тысячи третий зовут пятый следующий рама боковая номер ноль два семьдесят один двадцать два семьдесят один восемьдесят три завод китай год две тысячи двенадцатый следующий рама боковая номер номер шестьдесят восемь восемьсот восемьдесят восемь год две тысячи второй завод пятый следующий новый боковой номер двадцать восемь ноль тридцать три завод двенадцать девяносто один год две тысячи пятый следующий рама боковой номер девятнадцать девятьсот пятьдесят один завод пятый год две тысячи третий следующая рама боковая номер двадцать шесть ноль ноль завод пятый год две тысячи третий следующий рама боковой номер двадцать девять ноль двадцать девять завод двенадцатый год две тысячи третий следующий рамбоковая номер семнадцать восемьсот девяносто два ошибка семнадцать восемьсот тридцать два зовут тридцать третий год две тысячи четвертый брак следующий равнобоковой номер двадцать два семьдесят четыре шестьдесят четыре завод китай год две тысячи двенадцать следующий рамбоковой номер двадцать шесть пятьдесят семь ноль один завод китай год две тысячи двенадцатый следующий рамба кв номер двадцать два шестьдесят три ноль два завод китай год две тысячи двенадцатый следующий рамбак вай номер номер пятьдесят один сто семьдесят шесть год две тысячи третий завод пятый следующий рам боковая номер номер пятьдесят пятьсот восемьдесят три код две тысячи восьмой завод двенадцатый следующий номер двадцать два девяносто пять девяносто два завод китай год две тысячи двенадцать следующая рама боковая нома номер какой там двенадцать сто тридцать один завод двенадцатый год две тысячи четвертый следующий рампакова номер номер двадцать два триста девяносто пять две тысячи третий год тридцать третий завод следующий арам бакалая номер пятьдесят семь шестьсот пять завод пятый год две тысячи третий следующий рама боковая номер десять пятнадцать шестьдесят четыре завод китай год две тысячи двенадцатый следующий рамбоковой номер десять восемьдесят четыре десять завод китай год две тысячи двенадцать следующая рама боковая номер десять шестнадцать девяносто семь завод китай год две тысячи одиннадцать следующая рама боковая номер двадцать один тридцать два шестьдесят шесть завод китай год две тысячи двенадцатый следующий рама боковая номер шестьдесят девять семьсот тридцать шесть завод двенадцатый год две тысячи двенадцатый следующий рама боковая номер и тут нельзя было двадцать один пятьсот пятьдесят восемь завод четырнадцатый год тысяча девятьсот девяносто четыре следующий раунд боковая номер двадцать два пятьдесят девять пятьдесят пять завод китай год двенадцатый следующая рама боковая номер двадцать один девяносто девять семьдесят два завод китай год две тысячи двенадцать следующий рама боковая номер двадцать три пятьдесят четыре семьдесят завод китай год две тысячи двенадцатый следующая рама боковая номер двадцать восемь двести шесть завод двенадцатый год две тысячи двенадцатый следующая рама боковая номер двенадцать семьдесят пять семьдесят четыре завод китай год две тысячи двенадцатый следующий рамбаковая номер двадцать три двадцать восемь тридцать четыре завод китай год две тысячи двенадцать следующая рама боковая номер тринадцать ноль три ноль один китай двенадцать следующий храм боковая номер двадцать два тридцать четыре пятьдесят девять завод китай год двенадцатый следующий рама боковая номер двадцать восемь четыреста три год девяносто четвертый завод двенадцатый брак следующий рама боковая номер двадцать шесть шестьдесят восемьдесят завод китай год двенадцатый следующая рама боковая номер шестьдесят девятьсот шестьдесят девять завод пятый девяносто пятый год брак следующая рама боковая номер двадцать четыре тридцать четыре шестьдесят шесть завод китай двенадцатый год следующий амбк номер двадцать шесть девяносто три сорок четыре завод китай год двенадцать следующий рам боковая номер двадцать двадцать ноль один завод китай год двенадцать следующий раунд боковая номер сорок три двадцать два год две тысячи одиннадцатый завод шестьдесят семь тридцать один следующий ямбо давай номер двадцать пять пятьдесят один двадцать шесть завод китай год двенадцатый следующая рама боковая номер десять пятьдесят семь тридцать шесть завод китай год двенадцать следующая рама боковая номер двадцать один восемьдесят семь пятьдесят пять завод китай год двенадцатый следующая рама боковая номер двенадцать шестьдесят восемь пятьдесят пять завод китай год двенадцать брак следующий раунд боковой номер номер семьдесят семь триста сорок пять двенадцатый год четырнадцатый завод следующий рама боковая номер двадцать семь тридцать пять ноль семь завод китай год двенадцатый следующий раунд боковая номер двадцать два восемьдесят один ноль четыре завод китай год двенадцатый следующая рама боковая номер двенадцать семьдесят восемь шестьдесят семь завод китай год двенадцатый следующая рама боковая номер двадцать четыре восемнадцать семьдесят шесть завод китай год двенадцатый следующий рама боковая номер двадцать восемнадцать девяносто четыре завод пятый год две тысячи пятнадцатый следующая рама боковая номер номер семьдесят семь восемьсот сорок шесть двенадцатый год четырнадцатый завод следуй следующая рама боковая номер семьдесят восемь двести двадцать двенадцатый год двенадцатый завод следующий раунд боковая номер двадцать семь двенадцать пятнадцать завод китай а год какой год двенадцатый следующая рама боковая номер двадцать семь тридцать пять сорок восемь завод китай год год двенадцать брак следующий рама боковая номер шестнадцать ноль тридцать девять завод тридцать третий год две тысячи десятый следующий рама боковая номер тридцать один двадцать восемь пятьдесят три год две тысячи четвертый а завод четырнадцатый следующая рама боковая номер двенадцать тридцать семь сорок завод китай год двенадцатый следующий рама боковая номер семьдесят шестьсот сорок пять год две тысячи двенадцать завод четырнадцать следующий рама боковая номер двадцать пять пятьдесят два тридцать семь завод китай год двенадцать следующий рамбакова номер двенадцать тридцать четыре пятьдесят девять завод китай год двенадцатый следующая рама боковая номер двадцать пять семьсот семьдесят четыре завод двенадцатый год двенадцатый следующий рамбоковая номер десять шестнадцать семнадцать завод четырнадцатый год двенадцатый следующая рама боковая номер шестьдесят шесть пятьсот десять две тысячи восьмой год тридцать третий завод следующий раунд боковая номер сорок четыре двадцать восемь год одиннадцатый завод шестьдесят семь тридцать один следующая рама боковая номер двадцать пять пятьдесят два восемьдесят четыре завод китай год двенадцать следующий рама боковая номер двадцать два шестьдесят восемь пятьдесят семь завод китай год двенадцать следующий рама боковая номер семьдесят пять восемьдесят шесть завод двенадцать год девяносто четыре брак следующий рама боковая номер двадцать семь двадцать ноль один завод тридцать третий завод китай ошибка год а год какой год двенадцатый следующий рама боковой номер шестьдесят два девятьсот девяносто год тринадцатый завод шестьдесят семь тридцать пять следующий рама боковая номер двадцать четыре семнадцать семнадцать зовут китай год двенадцатый следующий рама боковая номер тридцать два девятьсот сорок девять завод четырнадцатый год две тысячи тринадцать следующий рамбэк номер номер шестьдесят тридцать семь восемьдесят два год две тысячи двенадцатый завод четырнадцатый следующий рамбоковой номер двадцать три пятьдесят семь восемьдесят завод китай год двенадцать следующий рамбаковая номер семьдесят три сорок семьдесят три сорок год девяносто четвертый завод четырнадцатый брак следующий рам боковой номер двадцать четыре пятьдесят восемь шестьдесят два завод китай а какой год двенадцатый год следующий роман боковая номер номер пятьдесят два пятьдесят девять год две тысячи первый завод четырнадцатый брак следующий раунд боковая номер завод китай год две тысячи двенадцать следующий рамба кавай номер двадцать семь двадцать двадцать семь завод китай год двенадцать следующий рамбоковой номер двадцать один девяносто один тридцать пять завод китай год двенадцатый следующая двадцать три девяносто два ошибка двадцать три девяносто два двадцать семь завод китай сто восемьдесят четыре тридцать три следующий номер колесная пара восемьдесят четыре сто тридцать три ошибка номер сто восемьдесят четыре тридцать три год семьдесят девятый завод пятый следующий пара номер восемнадцать четыреста тридцать три год семьдесят девять завод двадцать девять номер сто восемьдесят четыре тридцать три завод двадцать девятый следующий колесный пара номер двадцать два девятьсот двадцать два девятьсот семнадцать год восемьдесят седьмой завод сто восемьдесят шесть следующая колесная пара номер пятьсот пять семьсот восемнадцать завод двадцать девять год девяносто четвертый без бокса следующая колесная пара номер девятьсот двадцать семь пятьдесят два год семьдесят восьмой завод двадцать девятый следующий колесный пара номер на пятьдесят девяносто шесть шестьдесят один пятьдесят пятьдесят ошибка пятьдесят один пятьдесят девяносто шесть год восемьдесят первый завод двадцать девятый следующий колесный пара номер пятьдесят семьдесят пять пятьдесят семнадцать ноль пять пятьдесят семнадцать ноль пять пятьдесят один пятьдесят пять завод год девятнадцатый две буквы следующая колесная пара номер девяносто два сорок шесть пятьсот девяносто пять ошибка номер двести сорок шесть пятьсот девяносто пять завод двадцать девять год восемьдесят восьмой следующая колесная пара номер крестная пара номер сорок пятьдесят шестьдесят четыре ошибка сорок девятьсот пятьдесят четыре завод сто семнадцать ошибка завод одиннадцать семьдесят пять год две тысячи шесть следующая колесная пара номер сто четыреста тридцать номер сто четыреста тридцать год семьдесят пятый завод пятый следующий колесная пара номер семьдесят семь шестьдесят восемьдесят четыре завод двадцать девять год девяностый следующий колесная пара номер сто семьдесят семь семьсот восемьдесят четыре завод двадцать девять следующая колесная пара номер сто семьдесят сто семьдесят семь четырнадцать завод тридцать девятый год девяносто шестой следующая колесная пара номер номер ноль девять сто сорок семь завод пятый год восемьдесят третий слить следующая колесная пара номер тридцать восемь восемьдесят восемьдесят пять шестьдесят три тридцать восемь завод двадцать девятый год девяностый следующий колесный пара номер номер ноль три девятьсот девятнадцать завод пятый год две тысячи четвертый следующая колесная пара номер восемьдесят семь четыреста семьдесят четыре завод пятый семьдесят второй год`
//         })
//     }).then(res => res.json()).then(data => {
//         log(data)
//     })
//     console.log(response)
// }
//
// posChatgpt('http://localhost:5000/')
